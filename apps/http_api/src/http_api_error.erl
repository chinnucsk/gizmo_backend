-module(http_api_error).
-author('mkorszun@gmail.com').

-export([error/4]).

%% ###############################################################
%% INCLUDE
%% ###############################################################

-include_lib("webmachine/include/webmachine.hrl").

%% ###############################################################
%% ERROR FORMATTERS
%% ###############################################################

error(Reason, Code, ReqData, State) ->
    {{halt, Code}, error_body(Reason, ReqData), State}.

%% ###############################################################
%% INTERNAL FUNCTIONS
%% ###############################################################

error_body(Msg, ReqData) ->
    wrq:set_resp_body(mochijson2:encode({struct, [{error, Msg}]}), ReqData).

%% ###############################################################
%% ###############################################################
%% ###############################################################